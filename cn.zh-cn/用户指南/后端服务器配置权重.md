# 后端服务器配置权重<a name="elb_ug_hd_0008"></a>

每台后端服务器的权重取值范围为\[0, 100\]。新的请求不会转发到权重为0的后端服务器上，此时健康检查状态没有参考意义。以下三种算法支持权重设置。

-   在加权轮询算法中，每台后端服务器的权重取值范围为\[0, 100\]。

    新的请求不会转发到权重为0的后端。

    在非0的权重下，负载均衡器会将请求按权重值的大小分配给所有的后端服务器，且在轮询时，权重大的后端服务器被分配的概率高。

    当后端服务器的权重都设置为相等时，权重属性将不再生效，负载均衡器将按照简单的轮询策略分发请求。

-   在加权最少连接算法中，每台后端服务器的权重取值范围为\[0, 100\]。

    新的请求不会转发到权重为0的后端。

    在非0的权重下，负载均衡器会通过 overhead=当前连接数/权重 来计算每个服务器负载。每次调度会选择overhead最小的后端服务器。

-   在源IP算法中，每台后端服务器的权重取值范围为\[0, 100\]，但是只做0和非0的区分。

    新的请求不会转发到权重为0的后端。

    在非0的权重下，由于使用了源IP算法，各个后端服务器的权重属性将不再生效，在一段时间内，同一个客户端的IP地址的请求会被调度至同一个后端服务器上。


## 操作步骤<a name="section1499902451719"></a>

1.  <a name="li677391520332"></a>登录管理控制台。
2.  在管理控制台左上角单击![](figures/icon-region.png)图标，选择区域和项目。
3.  单击页面左上角的![](figures/icon-position.png)，选择“网络 \> 弹性负载均衡”。
4.  <a name="zh-cn_topic_0117477001_li1133822465414"></a>在“负载均衡器”界面，单击需要修改后端服务器权重的负载均衡名称。
5.  在该负载均衡界面，切换到“后端服务器组”页签，在目标服务器所在行，编辑“权重”列，设置权重值。
6.  单击“确定”。

用户可以根据需要批量设置后端服务器权重。具体操作如下：

1.  重复步骤[1](#li677391520332)至步骤[7](#zh-cn_topic_0117477001_li1133822465414)的操作。
2.  在该负载均衡界面，切换到“后端服务器组”页签，勾选需要设置权重的后端服务器，单击“修改权重”。
3.  在“修改权重”弹窗中，在输入框中输入权重值，单击输入框右侧的“确定”。

    或者根据需要在后端服务器列表中分别设置权重值。

4.  单击弹窗下方的“确定”，完成批量设置。

>![](public_sys-resources/icon-note.gif) **说明：** 
>将后端服务器的权重值批量设置为“0”，可以实现批量屏蔽后端服务器。


# 查询健康检查<a name="zh-cn_topic_0096561561"></a>

## 功能介绍<a name="zh-cn_topic_0049139663_section26745965"></a>

查询健康检查。支持过滤查询和分页查询。

## URI<a name="zh-cn_topic_0049139663_section39387099"></a>

GET /v2.0/lbaas/healthmonitors

## 接口约束<a name="section17493944522"></a>

分页查询使用的参数为marker、limit、page\_reverse。marker和page\_reverse只有和limit一起使用时才会生效，单独使用无效。

## 请求消息<a name="zh-cn_topic_0049139663_section49635175"></a>

**表 1**  请求参数

<a name="table475513722510"></a>
<table><thead align="left"><tr id="row62353814250"><th class="cellrowborder" valign="top" width="23.607639236076388%" id="mcps1.2.5.1.1"><p id="p623838172512"><a name="p623838172512"></a><a name="p623838172512"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="11.73882611738826%" id="mcps1.2.5.1.2"><p id="p17231738172520"><a name="p17231738172520"></a><a name="p17231738172520"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="12.168783121687829%" id="mcps1.2.5.1.3"><p id="p7231938162519"><a name="p7231938162519"></a><a name="p7231938162519"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="52.4847515248475%" id="mcps1.2.5.1.4"><p id="p1723183812513"><a name="p1723183812513"></a><a name="p1723183812513"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row223153816256"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1323738122511"><a name="p1323738122511"></a><a name="p1323738122511"></a>marker</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p423038182519"><a name="p423038182519"></a><a name="p423038182519"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p323103802513"><a name="p323103802513"></a><a name="p323103802513"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p4235152211344"><a name="p4235152211344"></a><a name="p4235152211344"></a>分页查询的起始的资源ID，表示上一页最后一条查询记录的健康检查的ID。</p>
<p id="p06221826143418"><a name="p06221826143418"></a><a name="p06221826143418"></a>必须与limit一起使用。</p>
</td>
</tr>
<tr id="row92383812516"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p12259381251"><a name="p12259381251"></a><a name="p12259381251"></a>limit</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p1425138152515"><a name="p1425138152515"></a><a name="p1425138152515"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p825153822512"><a name="p825153822512"></a><a name="p825153822512"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p163282306342"><a name="p163282306342"></a><a name="p163282306342"></a>分页查询每页的健康检查个数。</p>
<p id="p8300236113416"><a name="p8300236113416"></a><a name="p8300236113416"></a>取值范围：0~intmax。</p>
</td>
</tr>
<tr id="row1225638172517"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1825143819256"><a name="p1825143819256"></a><a name="p1825143819256"></a>page_reverse</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p192563832513"><a name="p192563832513"></a><a name="p192563832513"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p1225138162511"><a name="p1225138162511"></a><a name="p1225138162511"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p15227113913341"><a name="p15227113913341"></a><a name="p15227113913341"></a>分页的顺序，true表示从后往前分页，false表示从前往后分页，默认为false。</p>
<p id="p5244104243413"><a name="p5244104243413"></a><a name="p5244104243413"></a>必须与limit一起使用。</p>
</td>
</tr>
<tr id="row925183882518"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1325133811258"><a name="p1325133811258"></a><a name="p1325133811258"></a>id</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p142553892513"><a name="p142553892513"></a><a name="p142553892513"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p121782018181719"><a name="p121782018181719"></a><a name="p121782018181719"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p825538132511"><a name="p825538132511"></a><a name="p825538132511"></a>健康检查ID。</p>
</td>
</tr>
<tr id="row025173810255"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1425538202516"><a name="p1425538202516"></a><a name="p1425538202516"></a>tenant_id</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p162543820253"><a name="p162543820253"></a><a name="p162543820253"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p02517389256"><a name="p02517389256"></a><a name="p02517389256"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p20526512"><a name="p20526512"></a><a name="p20526512"></a>健康检查所在的项目ID。</p>
<p id="p1264211013318"><a name="p1264211013318"></a><a name="p1264211013318"></a>支持的最大字符长度：255</p>
</td>
</tr>
<tr id="row205006597919"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p98474391014"><a name="p98474391014"></a><a name="p98474391014"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p1085214351010"><a name="p1085214351010"></a><a name="p1085214351010"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p188495311109"><a name="p188495311109"></a><a name="p188495311109"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p136021254115112"><a name="p136021254115112"></a><a name="p136021254115112"></a>健康检查所在的项目ID。</p>
</td>
</tr>
<tr id="row112503842517"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p72593832511"><a name="p72593832511"></a><a name="p72593832511"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p3251738182518"><a name="p3251738182518"></a><a name="p3251738182518"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p525338102512"><a name="p525338102512"></a><a name="p525338102512"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p14251338172514"><a name="p14251338172514"></a><a name="p14251338172514"></a>健康检查名称。</p>
<p id="p1572924515612"><a name="p1572924515612"></a><a name="p1572924515612"></a>支持的最大字符长度：255</p>
</td>
</tr>
<tr id="row32516389251"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1625163892519"><a name="p1625163892519"></a><a name="p1625163892519"></a>delay</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p1525183872520"><a name="p1525183872520"></a><a name="p1525183872520"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p1325938152515"><a name="p1325938152515"></a><a name="p1325938152515"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p62583818257"><a name="p62583818257"></a><a name="p62583818257"></a>健康检查间隔，单位秒，取值范围[1，50]。</p>
</td>
</tr>
<tr id="row82583892516"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1425193811250"><a name="p1425193811250"></a><a name="p1425193811250"></a>max_retries</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p6266382258"><a name="p6266382258"></a><a name="p6266382258"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p112523813252"><a name="p112523813252"></a><a name="p112523813252"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p32643817257"><a name="p32643817257"></a><a name="p32643817257"></a>健康检查连续成功多少次后，将后端服务器的健康检查状态由fail判定为success，取值范围[1，10]。</p>
</td>
</tr>
<tr id="row10268386257"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p626123818257"><a name="p626123818257"></a><a name="p626123818257"></a>admin_state_up</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p726123817254"><a name="p726123817254"></a><a name="p726123817254"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p182615381254"><a name="p182615381254"></a><a name="p182615381254"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p88489418492"><a name="p88489418492"></a><a name="p88489418492"></a>健康检查的管理状态。</p>
<p id="p19848040494"><a name="p19848040494"></a><a name="p19848040494"></a>取值范围：true/false。默认为true；</p>
<a name="ul1848244497"></a><a name="ul1848244497"></a><ul id="ul1848244497"><li>true表示开启健康检查；</li><li>false表示关闭健康检查。</li></ul>
</td>
</tr>
<tr id="row126183852517"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p12268381258"><a name="p12268381258"></a><a name="p12268381258"></a>timeout</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p10268386258"><a name="p10268386258"></a><a name="p10268386258"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p1826193817257"><a name="p1826193817257"></a><a name="p1826193817257"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p37112334494"><a name="p37112334494"></a><a name="p37112334494"></a>健康检查超时时间，单位秒，取值范围[1，50]。</p>
<div class="note" id="note77113384910"><a name="note77113384910"></a><a name="note77113384910"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p57123374911"><a name="p57123374911"></a><a name="p57123374911"></a>建议该值小于delay的值。</p>
</div></div>
</td>
</tr>
<tr id="row727133820254"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1027738102511"><a name="p1027738102511"></a><a name="p1027738102511"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p102713814259"><a name="p102713814259"></a><a name="p102713814259"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p15271738142512"><a name="p15271738142512"></a><a name="p15271738142512"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p87193317494"><a name="p87193317494"></a><a name="p87193317494"></a>健康检查的类型。</p>
<p id="p5711533184919"><a name="p5711533184919"></a><a name="p5711533184919"></a>取值范围：TCP、UDP_CONNECT、HTTP。</p>
</td>
</tr>
<tr id="row1527103816252"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p1327173832513"><a name="p1327173832513"></a><a name="p1327173832513"></a>monitor_port</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p3271638132514"><a name="p3271638132514"></a><a name="p3271638132514"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p172723818256"><a name="p172723818256"></a><a name="p172723818256"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p19915125974920"><a name="p19915125974920"></a><a name="p19915125974920"></a>健康检查端口号。</p>
<p id="p1891535916496"><a name="p1891535916496"></a><a name="p1891535916496"></a>默认为空，表示使用后端云服务器的protocol_port作为健康检查的检查端口。</p>
</td>
</tr>
<tr id="row0271038162513"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p629133810250"><a name="p629133810250"></a><a name="p629133810250"></a>expected_codes</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p19291638162512"><a name="p19291638162512"></a><a name="p19291638162512"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p122919386252"><a name="p122919386252"></a><a name="p122919386252"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p49464171"><a name="p49464171"></a><a name="p49464171"></a>期望HTTP响应状态码，指定下列值：</p>
<p id="p42524361"><a name="p42524361"></a><a name="p42524361"></a>单值，例如200；</p>
<p id="p47174935"><a name="p47174935"></a><a name="p47174935"></a>列表，例如200，202；</p>
<p id="p21921239"><a name="p21921239"></a><a name="p21921239"></a>区间，例如200-204。</p>
<p id="p63073424"><a name="p63073424"></a><a name="p63073424"></a>仅当type为HTTP时生效。</p>
<p id="p08925875615"><a name="p08925875615"></a><a name="p08925875615"></a>支持的最大字符长度：64</p>
<div class="note" id="note30789909"><a name="note30789909"></a><a name="note30789909"></a><span class="notetitle"> 说明： </span><div class="notebody"><p class="textintable" id="p8673725"><a name="p8673725"></a><a name="p8673725"></a>该字段为预留字段，暂未启用。</p>
</div></div>
</td>
</tr>
<tr id="row18291238142519"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p8291238142511"><a name="p8291238142511"></a><a name="p8291238142511"></a>domain_name</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p1829338142510"><a name="p1829338142510"></a><a name="p1829338142510"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p102993802515"><a name="p102993802515"></a><a name="p102993802515"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p12394754125016"><a name="p12394754125016"></a><a name="p12394754125016"></a>健康检查时，发送的http请求的域名。</p>
<p id="p73941354135010"><a name="p73941354135010"></a><a name="p73941354135010"></a>仅当type为HTTP时生效。</p>
<p id="p14394115411501"><a name="p14394115411501"></a><a name="p14394115411501"></a>默认为空，表示使用负载均衡器的vip_address作为http请求的目的地址。</p>
<p id="p15394145435010"><a name="p15394145435010"></a><a name="p15394145435010"></a>以数字或字母开头，只能包含数字、字母、’-’、’.’。</p>
<p id="p18394135412509"><a name="p18394135412509"></a><a name="p18394135412509"></a>例如：www.test.com</p>
<p id="p17715201310572"><a name="p17715201310572"></a><a name="p17715201310572"></a>支持的最大字符长度：100</p>
</td>
</tr>
<tr id="row1629183822512"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p829238162515"><a name="p829238162515"></a><a name="p829238162515"></a>url_path</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p1129638142512"><a name="p1129638142512"></a><a name="p1129638142512"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p112993814256"><a name="p112993814256"></a><a name="p112993814256"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p6417986512"><a name="p6417986512"></a><a name="p6417986512"></a>健康检查时发送的http请求路径。默认为“/”。</p>
<p id="p5418178125119"><a name="p5418178125119"></a><a name="p5418178125119"></a>以“/”开头。</p>
<p id="p64181884511"><a name="p64181884511"></a><a name="p64181884511"></a>仅当type为HTTP时生效。</p>
<p id="p1341818185114"><a name="p1341818185114"></a><a name="p1341818185114"></a>例如：“/test”</p>
<p id="p1255119268570"><a name="p1255119268570"></a><a name="p1255119268570"></a>支持的最大字符长度：255</p>
</td>
</tr>
<tr id="row202953802512"><td class="cellrowborder" valign="top" width="23.607639236076388%" headers="mcps1.2.5.1.1 "><p id="p829238102516"><a name="p829238102516"></a><a name="p829238102516"></a>http_method</p>
</td>
<td class="cellrowborder" valign="top" width="11.73882611738826%" headers="mcps1.2.5.1.2 "><p id="p20305388256"><a name="p20305388256"></a><a name="p20305388256"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="12.168783121687829%" headers="mcps1.2.5.1.3 "><p id="p15291338172512"><a name="p15291338172512"></a><a name="p15291338172512"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="52.4847515248475%" headers="mcps1.2.5.1.4 "><p id="p48511267514"><a name="p48511267514"></a><a name="p48511267514"></a>HTTP请求的方法；默认值：GET</p>
<p id="p11851326135110"><a name="p11851326135110"></a><a name="p11851326135110"></a>取值范围：GET、HEAD、POST、PUT、DELETE、TRACE、OPTIONS、CONNECT、PATCH。</p>
<p id="p485142665115"><a name="p485142665115"></a><a name="p485142665115"></a>仅当type为HTTP时生效。</p>
<p id="p040018332572"><a name="p040018332572"></a><a name="p040018332572"></a>支持的最大字符长度：16</p>
<div class="note" id="note985119267515"><a name="note985119267515"></a><a name="note985119267515"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1885112263511"><a name="p1885112263511"></a><a name="p1885112263511"></a>该字段为预留字段，暂未启用。</p>
</div></div>
</td>
</tr>
</tbody>
</table>

## 响应消息<a name="zh-cn_topic_0049139663_section44063391"></a>

**表 2**  响应参数

<a name="zh-cn_topic_0049139663_table5773255"></a>
<table><thead align="left"><tr id="zh-cn_topic_0049139663_row19618454"><th class="cellrowborder" valign="top" width="21.19%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0049139663_p45590951"><a name="zh-cn_topic_0049139663_p45590951"></a><a name="zh-cn_topic_0049139663_p45590951"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="27.46%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0049139663_p1879552"><a name="zh-cn_topic_0049139663_p1879552"></a><a name="zh-cn_topic_0049139663_p1879552"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="51.349999999999994%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0049139663_p50824621"><a name="zh-cn_topic_0049139663_p50824621"></a><a name="zh-cn_topic_0049139663_p50824621"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0049139663_row23153616"><td class="cellrowborder" valign="top" width="21.19%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0049139663_p63503579"><a name="zh-cn_topic_0049139663_p63503579"></a><a name="zh-cn_topic_0049139663_p63503579"></a>healthmonitors</p>
</td>
<td class="cellrowborder" valign="top" width="27.46%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0049139663_p43516279"><a name="zh-cn_topic_0049139663_p43516279"></a><a name="zh-cn_topic_0049139663_p43516279"></a>Array</p>
</td>
<td class="cellrowborder" valign="top" width="51.349999999999994%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0049139663_p29202048"><a name="zh-cn_topic_0049139663_p29202048"></a><a name="zh-cn_topic_0049139663_p29202048"></a>健康检查对象列表。详见<a href="#table6429512132610">表3</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 3**  healthmonitors字段说明

<a name="table6429512132610"></a>
<table><thead align="left"><tr id="row6625112172620"><th class="cellrowborder" valign="top" width="21.21212121212121%" id="mcps1.2.4.1.1"><p id="p13625012132618"><a name="p13625012132618"></a><a name="p13625012132618"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="18.181818181818183%" id="mcps1.2.4.1.2"><p id="p146251412102614"><a name="p146251412102614"></a><a name="p146251412102614"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60.60606060606061%" id="mcps1.2.4.1.3"><p id="p3625151282618"><a name="p3625151282618"></a><a name="p3625151282618"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row206251212202620"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p76251212172616"><a name="p76251212172616"></a><a name="p76251212172616"></a>id</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p1391115489185"><a name="p1391115489185"></a><a name="p1391115489185"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p1262661216262"><a name="p1262661216262"></a><a name="p1262661216262"></a>健康检查ID。</p>
</td>
</tr>
<tr id="row1562618124262"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p1743205119187"><a name="p1743205119187"></a><a name="p1743205119187"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p34401551201812"><a name="p34401551201812"></a><a name="p34401551201812"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p198921122117"><a name="p198921122117"></a><a name="p198921122117"></a>健康检查所在的项目ID。</p>
</td>
</tr>
<tr id="row565023751013"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p84734881017"><a name="p84734881017"></a><a name="p84734881017"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p72281853171010"><a name="p72281853171010"></a><a name="p72281853171010"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p08991123112"><a name="p08991123112"></a><a name="p08991123112"></a>健康检查所在的项目ID。</p>
</td>
</tr>
<tr id="row20626101212267"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p136267128260"><a name="p136267128260"></a><a name="p136267128260"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p26262127261"><a name="p26262127261"></a><a name="p26262127261"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p10626612112610"><a name="p10626612112610"></a><a name="p10626612112610"></a>健康检查名称。</p>
<p id="p4781165175717"><a name="p4781165175717"></a><a name="p4781165175717"></a>支持的最大字符长度：255</p>
</td>
</tr>
<tr id="row3626131262613"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p862641211265"><a name="p862641211265"></a><a name="p862641211265"></a>delay</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p162641210268"><a name="p162641210268"></a><a name="p162641210268"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p16626161282618"><a name="p16626161282618"></a><a name="p16626161282618"></a>健康检查间隔，单位秒，取值范围[1，50]。</p>
</td>
</tr>
<tr id="row162621232617"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p162616124260"><a name="p162616124260"></a><a name="p162616124260"></a>max_retries</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p662617122262"><a name="p662617122262"></a><a name="p662617122262"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p158471132332"><a name="p158471132332"></a><a name="p158471132332"></a>健康检查连续成功多少次后，将后端服务器的健康检查状态由fail判定为success，</p>
<p id="p4626312172618"><a name="p4626312172618"></a><a name="p4626312172618"></a>取值范围[1，10]。</p>
</td>
</tr>
<tr id="row14626151212614"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p7626412102613"><a name="p7626412102613"></a><a name="p7626412102613"></a>pools</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p46264126265"><a name="p46264126265"></a><a name="p46264126265"></a>Array</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p893015710294"><a name="p893015710294"></a><a name="p893015710294"></a>健康检查关联的后端云服务器组的ID列表。</p>
</td>
</tr>
<tr id="row1262611122264"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p15626212202614"><a name="p15626212202614"></a><a name="p15626212202614"></a>admin_state_up</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p862611214269"><a name="p862611214269"></a><a name="p862611214269"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p1395749185817"><a name="p1395749185817"></a><a name="p1395749185817"></a>健康检查的管理状态。</p>
<p id="p1695104925812"><a name="p1695104925812"></a><a name="p1695104925812"></a>取值范围：true/false。默认为true；</p>
<a name="ul1195349165813"></a><a name="ul1195349165813"></a><ul id="ul1195349165813"><li>true表示开启健康检查；</li><li>false表示关闭健康检查。</li></ul>
</td>
</tr>
<tr id="row10626201220263"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p1627712112615"><a name="p1627712112615"></a><a name="p1627712112615"></a>timeout</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p1462719125261"><a name="p1462719125261"></a><a name="p1462719125261"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p39594917584"><a name="p39594917584"></a><a name="p39594917584"></a>健康检查超时时间，单位秒，取值范围[1，50]。</p>
<div class="note" id="note995104918586"><a name="note995104918586"></a><a name="note995104918586"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p195104920588"><a name="p195104920588"></a><a name="p195104920588"></a>建议该值小于delay的值。</p>
</div></div>
</td>
</tr>
<tr id="row16627312172620"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p86271012162613"><a name="p86271012162613"></a><a name="p86271012162613"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p26271212122619"><a name="p26271212122619"></a><a name="p26271212122619"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p1095154995817"><a name="p1095154995817"></a><a name="p1095154995817"></a>健康检查的类型。</p>
<p id="p139654917587"><a name="p139654917587"></a><a name="p139654917587"></a>取值范围：TCP、UDP_CONNECT、HTTP。</p>
</td>
</tr>
<tr id="row462771217266"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p17627131211261"><a name="p17627131211261"></a><a name="p17627131211261"></a>monitor_port</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p1862741242610"><a name="p1862741242610"></a><a name="p1862741242610"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p119674915580"><a name="p119674915580"></a><a name="p119674915580"></a>健康检查端口号，取值范围[1，65535]。</p>
<p id="p796124913588"><a name="p796124913588"></a><a name="p796124913588"></a>默认为空，表示使用后端云服务器的protocol_port作为健康检查的检查端口。</p>
</td>
</tr>
<tr id="row362791219268"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p6627121282613"><a name="p6627121282613"></a><a name="p6627121282613"></a>expected_codes</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p662714129261"><a name="p662714129261"></a><a name="p662714129261"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p55431899"><a name="p55431899"></a><a name="p55431899"></a>期望HTTP响应状态码，指定下列值：</p>
<p id="p29125048"><a name="p29125048"></a><a name="p29125048"></a>单值，例如200；</p>
<p id="p60798848"><a name="p60798848"></a><a name="p60798848"></a>列表，例如200，202；</p>
<p id="p10318722"><a name="p10318722"></a><a name="p10318722"></a>区间，例如200-204。</p>
<p id="p25759641"><a name="p25759641"></a><a name="p25759641"></a>仅当type为HTTP时生效。</p>
<p id="p19695101010580"><a name="p19695101010580"></a><a name="p19695101010580"></a>支持的最大字符长度：64</p>
</td>
</tr>
<tr id="row1962761272613"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p16627161292612"><a name="p16627161292612"></a><a name="p16627161292612"></a>domain_name</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p8627151219265"><a name="p8627151219265"></a><a name="p8627151219265"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p19451641195915"><a name="p19451641195915"></a><a name="p19451641195915"></a>健康检查时，发送的http请求的域名。</p>
<p id="p945841135916"><a name="p945841135916"></a><a name="p945841135916"></a>仅当type为HTTP时生效。</p>
<p id="p1045104175910"><a name="p1045104175910"></a><a name="p1045104175910"></a>默认为空，表示使用负载均衡器的vip_address作为http请求的目的地址。</p>
<p id="p845134113593"><a name="p845134113593"></a><a name="p845134113593"></a>以数字或字母开头，只能包含数字、字母、’-’、’.’。</p>
<p id="p1845541145918"><a name="p1845541145918"></a><a name="p1845541145918"></a>例如：www.test.com</p>
<p id="p201302012585"><a name="p201302012585"></a><a name="p201302012585"></a>支持的最大字符长度：100</p>
</td>
</tr>
<tr id="row196271312192614"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p7627181292610"><a name="p7627181292610"></a><a name="p7627181292610"></a>url_path</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p10627141214267"><a name="p10627141214267"></a><a name="p10627141214267"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p1745114145914"><a name="p1745114145914"></a><a name="p1745114145914"></a>健康检查时发送的http请求路径。默认为“/”。</p>
<p id="p134544111594"><a name="p134544111594"></a><a name="p134544111594"></a>以“/”开头。</p>
<p id="p5451741195912"><a name="p5451741195912"></a><a name="p5451741195912"></a>仅当type为HTTP时生效。</p>
<p id="p16451641185910"><a name="p16451641185910"></a><a name="p16451641185910"></a>例如：“/test”</p>
<p id="p1656842965819"><a name="p1656842965819"></a><a name="p1656842965819"></a>支持的最大字符长度：255</p>
</td>
</tr>
<tr id="row5627612182610"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p156271512122620"><a name="p156271512122620"></a><a name="p156271512122620"></a>http_method</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p8627212142610"><a name="p8627212142610"></a><a name="p8627212142610"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p1147104111593"><a name="p1147104111593"></a><a name="p1147104111593"></a>HTTP请求的方法；默认值：GET</p>
<p id="p84774115591"><a name="p84774115591"></a><a name="p84774115591"></a>取值范围：GET、HEAD、POST、PUT、DELETE、TRACE、OPTIONS、CONNECT、PATCH。</p>
<p id="p1747144116591"><a name="p1747144116591"></a><a name="p1747144116591"></a>仅当type为HTTP时生效。</p>
<p id="p10402193217586"><a name="p10402193217586"></a><a name="p10402193217586"></a>支持的最大字符长度：16</p>
<div class="note" id="note1447741175914"><a name="note1447741175914"></a><a name="note1447741175914"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p5471741175911"><a name="p5471741175911"></a><a name="p5471741175911"></a>该字段为预留字段，暂未启用。</p>
</div></div>
</td>
</tr>
<tr id="row15181172904011"><td class="cellrowborder" valign="top" width="21.21212121212121%" headers="mcps1.2.4.1.1 "><p id="p735612418409"><a name="p735612418409"></a><a name="p735612418409"></a>healthmonitors_links</p>
</td>
<td class="cellrowborder" valign="top" width="18.181818181818183%" headers="mcps1.2.4.1.2 "><p id="p93571141164018"><a name="p93571141164018"></a><a name="p93571141164018"></a>Array</p>
</td>
<td class="cellrowborder" valign="top" width="60.60606060606061%" headers="mcps1.2.4.1.3 "><p id="p5542991616"><a name="p5542991616"></a><a name="p5542991616"></a>健康检查的分页查询中上下页的链接信息。</p>
<p id="p165764116119"><a name="p165764116119"></a><a name="p165764116119"></a>仅当分页查询时响应体中有该字段。</p>
<p id="p53635145114"><a name="p53635145114"></a><a name="p53635145114"></a>详见<a href="#table31726924112">表4</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 4**  healthmonitors\_links字段说明

<a name="table31726924112"></a>
<table><thead align="left"><tr id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_row12653175213336"><th class="cellrowborder" valign="top" width="34.69%" id="mcps1.2.4.1.1"><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p15653195215335"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p15653195215335"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p15653195215335"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="23.47%" id="mcps1.2.4.1.2"><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p065315253310"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p065315253310"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p065315253310"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="41.839999999999996%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p765365253319"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p765365253319"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p765365253319"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_row206531152103314"><td class="cellrowborder" valign="top" width="34.69%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1465311528337"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1465311528337"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1465311528337"></a>href</p>
</td>
<td class="cellrowborder" valign="top" width="23.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p12653952113318"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p12653952113318"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p12653952113318"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="41.839999999999996%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1653852193312"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1653852193312"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1653852193312"></a>健康检查的分页查询中上下页的链接。</p>
</td>
</tr>
<tr id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_row186535529338"><td class="cellrowborder" valign="top" width="34.69%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1065325215337"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1065325215337"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p1065325215337"></a>rel</p>
</td>
<td class="cellrowborder" valign="top" width="23.47%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p165305243318"><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p165305243318"></a><a name="zh-cn_topic_0141008270_zh-cn_topic_0096561531_p165305243318"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="41.839999999999996%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0141008270_p1772113411218"><a name="zh-cn_topic_0141008270_p1772113411218"></a><a name="zh-cn_topic_0141008270_p1772113411218"></a>上下页的提示信息。</p>
<p id="zh-cn_topic_0141008270_p422510443113"><a name="zh-cn_topic_0141008270_p422510443113"></a><a name="zh-cn_topic_0141008270_p422510443113"></a>取值范围：next、previous。next表示href是下一页的url，previous表示href是上一页的url。</p>
</td>
</tr>
</tbody>
</table>

## 示例<a name="section57677308457"></a>

-   请求样例1 全量查询健康检查

    ```
    GET https://{Endpoint}/v2.0/lbaas/healthmonitors
    ```

-   响应样例1

    ```
    {
        "healthmonitors": [
            {
                "monitor_port": null,
                "name": "",
                "admin_state_up": true,
                "tenant_id": "601240b9c5c94059b63d484c92cfe308",
                "project_id": "601240b9c5c94059b63d484c92cfe308", 
                "domain_name": null,
                "delay": 5,
                
                "max_retries": 3,
               
                "http_method": "GET",
                "timeout": 10,
                "pools": [
                    {
                        "id": "caef8316-6b65-4676-8293-cf41fb63cc2a"
                    }
                ],
                "url_path": "/",
                "type": "HTTP",
                "id": "1b587819-d619-49c1-9101-fe72d8b361ef"
            }
        ]
    }
    ```

-   请求样例2 过滤查询类型为HTTP的健康检查

    ```
    GET https://{Endpoint}/v2.0/lbaas/healthmonitors?type=HTTP
    ```

-   响应样例2

    ```
    {
        "healthmonitors": [
            {
                "monitor_port": null,
                "name": "",
                "admin_state_up": true,
                "tenant_id": "601240b9c5c94059b63d484c92cfe308",
                "project_id": "601240b9c5c94059b63d484c92cfe308", 
                "domain_name": null,
                "delay": 5,
                "expected_codes": "200-204,300-302,401",
                "max_retries": 3,
                
                "http_method": "GET",
                "timeout": 10,
                "pools": [
                    {
                        "id": "caef8316-6b65-4676-8293-cf41fb63cc2a"
                    }
                ],
                "url_path": "/",
                "type": "HTTP",
                "id": "1b587819-d619-49c1-9101-fe72d8b361ef"
            }
        ]
    }
    ```


## 返回码<a name="zh-cn_topic_0049139655_section64643717"></a>

请参见[增强型负载均衡返回码说明](增强型负载均衡返回码说明.md)。

